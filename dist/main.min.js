!function(t,n){"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?module.exports=n(t):t.localStore=n(t)}(window,function(t){"use strict";function n(t){return JSON.stringify(t)}function e(t){return JSON.parse(t)}function o(t){setTimeout(t,10)}var i=t.localStorage;return{clear:function(){o(function(){i.clear()})},setItem:function(t,e,f,c){var u={v:e};"function"==typeof f&&(c=f,f=void 0),f>0&&(u.t=Date.now()+f),o(function(){try{i.setItem(t,n(u))}catch(e){c&&c(e)}})},getItem:function(t,n){o(function(){var o=e(i.getItem(t)),f=o.v,c=o.t;"undefined"!=typeof c&&Date.now()>=c&&(f=null,i.removeItem(t)),n(f)})},removeItem:function(t){o(function(){t.split(" ").forEach(function(t){i.removeItem(t)})})},key:function(t,n){o(function(){n(i.key(t))})}}});